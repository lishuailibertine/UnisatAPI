/*! For license information please see main.js.LICENSE.txt */
(()=>{var __webpack_modules__={165:()=>{(()=>{"use strict";var __webpack_modules__={"./src/IdGenerator.ts":(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nclass IdGenerator {\n    static rand() {\n        const arr = new Uint32Array(1);\n        window.crypto.getRandomValues(arr);\n        return arr[0] / (0xffffffff + 1);\n    }\n    /***\n     * Generates a random string of specified size\n     * @param size - The length of the string to generate\n     * @returns {string} - The generated random string\n     */\n    static text(size = 32) {\n        let text = "";\n        const possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";\n        for (let i = 0; i < size; i++)\n            text += possible.charAt(Math.floor(IdGenerator.rand() * possible.length));\n        return text;\n    }\n}\nexports["default"] = IdGenerator;\n\n\n//# sourceURL=webpack://bridgemessage/./src/IdGenerator.ts?')},"./src/bridgemessage.ts":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.BridgeMessage = void 0;\nconst jshost_1 = __webpack_require__(/*! ./jshost */ "./src/jshost.ts");\nconst callbacks_1 = __webpack_require__(/*! ./callbacks */ "./src/callbacks.ts");\nconst IdGenerator_1 = __webpack_require__(/*! ./IdGenerator */ "./src/IdGenerator.ts");\nclass BridgeMessage {\n    constructor(handlerName) {\n        this.handlerName = handlerName;\n        this.addCallback();\n    }\n    sendMessage(method, params) {\n        return new Promise((resolve, reject) => {\n            let messageId = method + "_" + IdGenerator_1.default.text(16);\n            console.log("Request->", messageId, params ? params : {});\n            var input = {\n                Method: method,\n                Params: params,\n                MessageId: messageId\n            };\n            callbacks_1.callbacks[messageId] = { reject, resolve };\n            if (jshost_1.default.ios) {\n                window["webkit"].messageHandlers[this.handlerName].postMessage(JSON.stringify(input));\n            }\n            else if (jshost_1.default.android) {\n                window[this.handlerName].postMessage(JSON.stringify(input));\n            }\n            else {\n                window[this.handlerName + "Callback"](messageId, "Invalid host");\n            }\n        });\n    }\n    addCallback() {\n        const methodObject = { [this.handlerName + "Callback"]: callbacks_1.callback };\n        Object.assign(window, methodObject);\n    }\n}\nexports.BridgeMessage = BridgeMessage;\n\n\n//# sourceURL=webpack://bridgemessage/./src/bridgemessage.ts?')},"./src/callbacks.ts":(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.callback = exports.callbacks = void 0;\nexports.callbacks = new Array();\nfunction callback(messageId, error, result) {\n    console.log("response->", messageId, error ? error : result);\n    for (var key in exports.callbacks) {\n        if (key == messageId) {\n            error ? exports.callbacks[key].reject(new Error(error)) : exports.callbacks[key].resolve(result);\n            delete exports.callbacks[key];\n            break;\n        }\n    }\n}\nexports.callback = callback;\n;\n\n\n//# sourceURL=webpack://bridgemessage/./src/callbacks.ts?')},"./src/index.ts":function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./bridgemessage */ "./src/bridgemessage.ts"), exports);\n\n\n//# sourceURL=webpack://bridgemessage/./src/index.ts?')},"./src/jshost.ts":(__unused_webpack_module,exports)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * js 宿主里面的相关方法\n */\n// 浏览器判断\nconst u = navigator.userAgent.toLowerCase();\nconst jshost = {\n    trident: u.indexOf('trident') > -1,\n    presto: u.indexOf('presto') > -1,\n    webKit: u.indexOf('appleWebKit') > -1,\n    gecko: u.indexOf('gecko') > -1 && u.indexOf('KHTML') === -1,\n    mobile: !!u.match(/appleWebKit.*mobile.*/),\n    ios: !!u.match(/\\(i[^;]+;( u;)? cpu.+mac os x/),\n    android: u.indexOf('android') > -1 || u.indexOf('linux') > -1,\n    iPhone: u.indexOf('iphone') > -1 || u.indexOf('mac') > -1,\n    iPad: u.indexOf('ipad') > -1,\n    iPod: u.indexOf('ipod') > -1,\n    webApp: u.indexOf('safari') === -1,\n    wx: u.indexOf('micromessenger') > -1,\n    nokia: u.indexOf('nokia') > -1,\n    pcwx: u.indexOf('windowswechat') > -1,\n    pc: !/Android|iPhone|SymbianOS|Windows\\s+Phone|iPad|iPod/i.test(u),\n    // ie: u.indexOf('msie') > -1,\n    ie: (u.indexOf('msie') > -1 || u.indexOf('edge') > -1 || u.indexOf('trident') > -1) && u.indexOf('opera') === -1,\n    x5: u.indexOf('mqqbrowser') > -1,\n    weibo: u.indexOf('weibo') > -1 || u.indexOf('Weibo') > -1,\n    iphoneX: !!u.match(/\\(i[^;]+;( u;)? cpu.+mac os x/) && screen.height >= 812,\n    iphone5: !!u.match(/\\(i[^;]+;( u;)? cpu.+mac os x/) && screen.height === 568 // ios终端\n};\nexports[\"default\"] = jshost;\n\n\n//# sourceURL=webpack://bridgemessage/./src/jshost.ts?")}},__webpack_module_cache__={};function __nested_webpack_require_7584__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_7584__),n.exports}var __webpack_exports__=__nested_webpack_require_7584__("./src/index.ts")})()},590:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function s(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments))}h(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&h(e,"error",t,{once:!0})}(e,s)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var s,i,o,u;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(s=c(e))>0&&o.length>s&&!o.warned){o.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=o.length,u=d,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=d.bind(r);return s.listener=n,r.wrapFn=s,s}function p(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):_(s,s.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(i){r.once&&e.removeEventListener(t,s),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var s="error"===e,i=this._events;if(void 0!==i)s=s&&void 0===i.error;else if(!s)return!1;if(s){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,d=_(c,u);for(n=0;n<u;++n)r(d[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,s,i,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,s=i;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(s=i[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},460:function(e,t,n){var r,s,i,o,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||c(t,e,n)};i=[n,t,n(590),n(165)],r=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathWalletProvider=void 0;class s extends n.EventEmitter{constructor(){super(),this.requestAccounts=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("requestAccounts",null)})),this.getAccounts=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getAccounts",null)})),this.getNetwork=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getNetwork",null)})),this.switchNetwork=e=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("switchNetwork",e)})),this.getPublicKey=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getPublicKey",null)})),this.getBalance=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getBalance",null)})),this.getInscriptions=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getInscriptions",{cursor:e,size:t})})),this.sendBitcoin=(e,t,n)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("sendBitcoin",{toAddress:e,satoshis:t,options:n})})),this.sendInscription=(e,t,n)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("sendInscription",{toAddress:e,inscriptionId:t,options:n})})),this.signMessage=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("signMessage",{msg:e,type:t})})),this.pushTx=e=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("pushTx",e)})),this.signPsbt=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("signPsbt",{psbtHex:e,options:t})})),this.signPsbts=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("signPsbts",{psbtHex:e,options:t})})),this.pushPsbt=e=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("pushPsbt",e)})),this.messageBridge=new r.BridgeMessage("bitcoin"),this.setMaxListeners(100)}}t.MathWalletProvider=s;const i=new s;window.unisat||(window.unisat=new Proxy(i,{deleteProperty:()=>!0})),Object.defineProperty(window,"unisat",{value:new Proxy(i,{deleteProperty:()=>!0}),writable:!1}),window.dispatchEvent(new Event("unisat#initialized"))}.apply(s={},i),void 0!==r||(r=s),o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),u(n,t)}.apply(t,i=[n,t,r]),void 0===o||(e.exports=o)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__(460)})();