(()=>{var e={590:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise((function(n,i){function s(n){e.removeListener(t,r),i(n)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments))}p(e,t,r,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&p(e,"error",t,{once:!0})}(e,s)}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var s,r,o,u;if(a(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),o=r[t]),void 0===o)o=r[t]=n,++e._eventsCount;else if("function"==typeof o?o=r[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(s=d(e))>0&&o.length>s&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=c.bind(i);return s.listener=n,i.wrapFn=s,s}function h(e,t,n){var i=e._events;if(void 0===i)return[];var s=i[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):l(s,s.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function l(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function p(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(r){i.once&&e.removeEventListener(t,s),n(r)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return d(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var s="error"===e,r=this._events;if(void 0!==r)s=s&&void 0===r.error;else if(!s)return!1;if(s){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var d=r[e];if(void 0===d)return!1;if("function"==typeof d)i(d,this,t);else{var u=d.length,c=l(d,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},r.prototype.addListener=function(e,t){return u(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return u(this,e,t,!0)},r.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,i,s,r,o;if(a(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){o=n[r].listener,s=r;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(s=r[i])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},r.prototype.listenerCount=g,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},441:(e,t,n)=>{"use strict";t.__esModule=!0,t.BridgeMessage=void 0;var i=n(855),s=new Array;window.callback=function(e,t,n){for(var i in s)if(i==e){t?s[i].reject(new Error(t)):s[i].resolve(n),delete s[i];break}};var r=function(){function e(e){this.handlerName=e}return e.prototype.sendMessage=function(e,t){var n=this;return new Promise((function(r,o){var a=e+"_"+Date.now(),d={Method:e,Params:t,MessageId:a};s[a]={reject:o,resolve:r},i.jsHost.ios?window.webkit.messageHandlers[n.handlerName].postMessage(JSON.stringify(d)):i.jsHost.android?window[n.handlerName].postMessage(JSON.stringify(d)):window.callback(a,"Invalid host")}))},e}();t.BridgeMessage=r},855:(e,t)=>{"use strict";t.__esModule=!0,t.jsHost=void 0;var n=navigator.userAgent.toLowerCase(),i={trident:n.indexOf("trident")>-1,presto:n.indexOf("presto")>-1,webKit:n.indexOf("appleWebKit")>-1,gecko:n.indexOf("gecko")>-1&&-1===n.indexOf("KHTML"),mobile:!!n.match(/appleWebKit.*mobile.*/),ios:!!n.match(/\(i[^;]+;( u;)? cpu.+mac os x/),android:n.indexOf("android")>-1||n.indexOf("linux")>-1,iPhone:n.indexOf("iphone")>-1||n.indexOf("mac")>-1,iPad:n.indexOf("ipad")>-1,iPod:n.indexOf("ipod")>-1,webApp:-1===n.indexOf("safari"),wx:n.indexOf("micromessenger")>-1,nokia:n.indexOf("nokia")>-1,pcwx:n.indexOf("windowswechat")>-1,pc:!/Android|iPhone|SymbianOS|Windows\s+Phone|iPad|iPod/i.test(n),ie:(n.indexOf("msie")>-1||n.indexOf("edge")>-1||n.indexOf("trident")>-1)&&-1===n.indexOf("opera"),x5:n.indexOf("mqqbrowser")>-1,weibo:n.indexOf("weibo")>-1||n.indexOf("Weibo")>-1,iphoneX:!!n.match(/\(i[^;]+;( u;)? cpu.+mac os x/)&&screen.height>=812,iphone5:!!n.match(/\(i[^;]+;( u;)? cpu.+mac os x/)&&568===screen.height};t.jsHost=i},1:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BridgeMessage:()=>a});const i=navigator.userAgent.toLowerCase(),s=(i.indexOf("trident"),i.indexOf("presto"),i.indexOf("appleWebKit"),i.indexOf("gecko")>-1&&i.indexOf("KHTML"),i.match(/appleWebKit.*mobile.*/),!!i.match(/\(i[^;]+;( u;)? cpu.+mac os x/)),r=i.indexOf("android")>-1||i.indexOf("linux")>-1;i.indexOf("iphone")>-1||i.indexOf("mac"),i.indexOf("ipad"),i.indexOf("ipod"),i.indexOf("safari"),i.indexOf("micromessenger"),i.indexOf("nokia"),i.indexOf("windowswechat"),/Android|iPhone|SymbianOS|Windows\s+Phone|iPad|iPod/i.test(i),(i.indexOf("msie")>-1||i.indexOf("edge")>-1||i.indexOf("trident")>-1)&&i.indexOf("opera"),i.indexOf("mqqbrowser"),i.indexOf("weibo")>-1||i.indexOf("Weibo"),!!i.match(/\(i[^;]+;( u;)? cpu.+mac os x/)&&screen.height,i.match(/\(i[^;]+;( u;)? cpu.+mac os x/)&&screen.height;let o=new Array;window.callback=function(e,t,n){for(var i in o)if(i==e){console.log("Callback->",e,t||n),t?o[i].reject(new Error(t)):o[i].resolve(n),delete o[i];break}};class a{constructor(e){this.handlerName=e}sendMessage(e,t){return new Promise(((n,i)=>{let a=e+"_"+Date.now();console.log("Request->",a,t||{});var d={Method:e,Params:t,MessageId:a};o[a]={reject:i,resolve:n},s?window.webkit.messageHandlers[this.handlerName].postMessage(JSON.stringify(d)):r?window[this.handlerName].postMessage(JSON.stringify(d)):window.callback(a,"Invalid host")}))}}},460:function(e,t,n){var i,s,r,o,a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))},d=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),u=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)};r=[n,t,n(590),n(441)],i=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathWalletProvider=void 0;class s extends n.EventEmitter{constructor(){super(),this.requestAccounts=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("requestAccounts",null)})),this.getAccounts=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getAccounts",null)})),this.getNetwork=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getNetwork",null)})),this.switchNetwork=e=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("switchNetwork",e)})),this.getPublicKey=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getPublicKey",null)})),this.getBalance=()=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getBalance",null)})),this.getInscriptions=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("getInscriptions",{cursor:e,size:t})})),this.sendBitcoin=(e,t,n)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("sendBitcoin",{toAddress:e,satoshis:t,options:n})})),this.sendInscription=(e,t,n)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("sendInscription",{toAddress:e,inscriptionId:t,options:n})})),this.signMessage=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("signMessage",{msg:e,type:t})})),this.pushTx=e=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("pushTx",e)})),this.signPsbt=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("signPsbt",{psbtHex:e,options:t})})),this.signPsbts=(e,t)=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("signPsbts",{psbtHex:e,options:t})})),this.pushPsbt=e=>a(this,void 0,void 0,(function*(){return this.messageBridge.sendMessage("pushPsbt",e)})),this.messageBridge=new i.BridgeMessage("bitcoin"),this.setMaxListeners(100)}}t.MathWalletProvider=s;const r=new s;window.unisat||(window.unisat=new Proxy(r,{deleteProperty:()=>!0})),Object.defineProperty(window,"unisat",{value:new Proxy(r,{deleteProperty:()=>!0}),writable:!1}),window.dispatchEvent(new Event("unisat#initialized"))}.apply(s={},r),void 0!==i||(i=s),o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),u(n,t)}.apply(t,r=[n,t,i]),void 0===o||(e.exports=o),r=[n,t,n(1),n(590)],o=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends i.EventEmitter{constructor(){super(),this.setMaxListeners(100),this.messageBridge=new n.BridgeMessage("bitcoin")}requestAccounts(){return this.messageBridge.sendMessage("requestAccounts",null)}getAccounts(){return this.messageBridge.sendMessage("getAccounts",null)}getNetwork(){return this.messageBridge.sendMessage("getNetwork",null)}switchNetwork(e){return this.messageBridge.sendMessage("switchNetwork",e)}getPublicKey(){return this.messageBridge.sendMessage("getPublicKey",null)}getBalance(){return this.messageBridge.sendMessage("getBalance",null)}getInscriptions(e,t){return this.messageBridge.sendMessage("getInscriptions",{cursor:e,size:t})}sendBitcoin(e,t,n){return this.messageBridge.sendMessage("sendBitcoin",{toAddress:e,satoshis:t,options:n})}sendInscription(e,t,n){return this.messageBridge.sendMessage("sendInscription",{address:e,inscriptionId:t,options:n})}signMessage(e,t){return this.messageBridge.sendMessage("signMessage",{msg:e,type:t})}pushTx(e){return this.messageBridge.sendMessage("pushTx",e)}signPsbt(e,t){return this.messageBridge.sendMessage("signPsbt",{psbtHex:e,options:t})}signPsbts(e,t){return this.messageBridge.sendMessage("signPsbts",{psbtHexs:e,options:t})}pushPsbt(e){return this.messageBridge.sendMessage("pushPsbt",e)}}const r=new s;window.unisat||(window.unisat=new Proxy(r,{deleteProperty:()=>!0})),Object.defineProperty(window,"unisat",{value:new Proxy(r,{deleteProperty:()=>!0}),writable:!1}),window.dispatchEvent(new Event("unisat#initialized"))}.apply(t,r),void 0===o||(e.exports=o)}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(460)})();